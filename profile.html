<!DOCTYPE html>
<html lang="en" class="auth-loading">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Site â€” Profile</title>

  <!-- Main CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Font Awesome -->
  <script src="https://kit.fontawesome.com/07f96d8b4c.js" crossorigin="anonymous"></script>

  <!-- Prevent auth flicker -->
  <script>
    document.documentElement.classList.add("auth-loading");
  </script>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body id="user-body">

  <!-- NAVBAR -->
  <div id="navbar"></div>

  <!-- PROFILE PAGE -->
  <div class="profile-page">

    <div class="profile-card auth-ui">

      <div class="profile-header">
        <div>
          <h1 id="profileName">User Name</h1>
          <p id="profileEmail">user@email.com</p>
        </div>
      </div>

      <div class="profile-divider"></div>

      <div class="profile-details">

        <!-- Gender -->
        <div class="profile-row">
          <span class="label">Gender</span>

          <!-- display -->
          <span id="profileGender">-</span>

          <!-- edit (hidden until Edit clicked) -->
          <select id="editGender" class="profile-edit" style="display:none;">
            <option value="">Select...</option>
            <option value="M">Male</option>
            <option value="F">Female</option>
            <option value="O">Other</option>
          </select>
        </div>

        <!-- Phone -->
        <div class="profile-row">
          <span class="label">Phone Number</span>

          <span id="profilePhone">-</span>

          <input id="editPhone" class="profile-edit" type="text" maxlength="15" placeholder="e.g. 0123456789"
            style="display:none;" />
        </div>

        <!-- Address -->
        <div class="profile-row">
          <span class="label">Address</span>

          <span id="profileAddress">-</span>

          <textarea id="editAddress" class="profile-edit" maxlength="255" placeholder="Your address..."
            style="display:none;"></textarea>
        </div>

        <div class="profile-row">
          <span class="label">Identification Number</span>

          <span id="profileIdentification">-</span>

          <input id="editIdentification" class="profile-edit" type="text" maxlength="20" placeholder="e.g. 061239072345"
            style="display:none;" />
        </div>

      </div>

      <!-- Actions -->
      <div class="profile-actions">
        <button id="changePasswordBtn" class="profile-btn profile-btn-secondary" type="button">Change Password</button>
        <button id="editProfileBtn" class="profile-btn">Edit</button>
        <button id="saveProfileBtn" class="profile-btn" style="display:none;">Save</button>
        <button id="cancelProfileBtn" class="profile-btn profile-btn-secondary" style="display:none;">Cancel</button>
        

      </div>

    </div>

  </div>

  <!-- ZHILIN DO HERE -->
  <div class="my-listings-wrapper">
    <div class="profile-card" style="width: 100%; box-sizing: border-box;">
      <div class="my-listings-header">
        <h2 class="my-listings-title">My Listings</h2>
        <p class="my-listings-subtitle">Manage animals you have submitted for adoption.</p>
      </div>
      <div id="myListingsGrid" class="my-listings-grid">
        <p class="my-listings-loading">Loading your listings...</p>
      </div>
    </div>
  </div>

  <div class="modal" id="userListingModal">
    <div class="modal-inner">
      <div class="modal-inner-top">
        <div class="modal-inner-top-title">
          <h1 id="modalEditTitle">Manage Listing</h1>
        </div>
        <div class="modal-inner-top-exit">
          <a onclick="closeUserModal()"><i class="fa-solid fa-x"></i></a>
        </div>
      </div>

      <div class="modal-inner-details-section">
        <div class="modal-inner-image-container">
          <img id="modalEditImg" src="" class="modalImg" style="object-fit: cover;">
        </div>

        <div class="modal-inner-info-container">
          <input type="hidden" id="editDocId">

          <div class="edit-form-group">
            <label class="edit-form-label">Animal Name</label>
            <input type="text" id="editName" class="edit-form-input">
          </div>

          <div class="form-row-split">
            <div class="edit-form-group form-group-half">
              <label class="edit-form-label">Type</label>
              <select id="editType" class="edit-form-input">
                <option value="Dog">Dog</option>
                <option value="Cat">Cat</option>
                <option value="Rabbit">Rabbit</option>
                <option value="Bird">Bird</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div class="edit-form-group form-group-half">
              <label class="edit-form-label">Breed</label>
              <input type="text" id="editBreed" class="edit-form-input">
            </div>
          </div>

          <div class="form-row-split">
            <div class="edit-form-group form-group-half">
              <label class="edit-form-label">Age (Months)</label>
              <input type="number" id="editAge" class="edit-form-input" min="0">
            </div>
            <div class="edit-form-group form-group-half">
              <label class="edit-form-label">Gender</label>
              <select id="editGender" class="edit-form-input">
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>
            </div>
          </div>

          <div class="edit-form-group">
            <label class="edit-form-label">Location</label>
            <input type="text" id="editLocation" class="edit-form-input">
          </div>

          <div class="edit-form-group">
            <label class="edit-form-label">Vaccination Status</label>
            <select id="editVaccine" class="edit-form-input">
              <option value="Vaccinated">Vaccinated</option>
              <option value="Not Vaccinated">Not Vaccinated</option>
              <option value="Not specified">Not specified</option>
            </select>
          </div>

          <div class="edit-form-group">
            <label class="edit-form-label">Description</label>
            <textarea id="editDescription" class="edit-form-textarea"></textarea>
          </div>

          <div class="edit-form-group">
            <label class="edit-form-label">Current Status</label>
            <div id="editStatusDisplay" class="edit-status-text"></div>
          </div>

          <button id="btnSaveChanges" class="btn-save-changes" onclick="saveUserListing()">
            Save Changes
          </button>
        </div>
      </div>
    </div>
  </div>

  
  <!-- DARREN DO HERE -->
<div class="my-lostpets-wrapper">
  <div class="profile-card" style="width: 100%; box-sizing: border-box;">
    <div class="my-lostpets-header">
      <h2 class="my-lostpets-title">My Lost Pets</h2>
      <p class="my-lostpets-subtitle">Manage lost pets you have created.</p>
    </div>
    <div id="myLostpetsGrid" class="my-lostpets-grid">
      <p class="my-lostpets-loading">Loading your lostpets...</p>
    </div>
  </div>
<!--
  <div class="modal" id="myLostPet-modal">
    <div class="modal-inner">
      <div class="modal-inner-top">
        <div class="modal-inner-top-title">
          <h1 id="myLostPet-modalTitle">Manage Lost Pet</h1>
        </div>
        <div class="modal-inner-top-exit">
          <a onclick="closeMyLostPetModal()"><i class="fa-solid fa-x"></i></a>
        </div>
      </div>

      <div class="modal-inner-details-section">
        <div class="modal-inner-image-container">
          <img id="myLostPet-petPhoto" src="images/no-image.png" alt="Pet Image" class="modalImg" style="object-fit: cover;">
        </div>

        <div class="modal-inner-info-container">
          <input type="hidden" id="myLostPet-modalPetId">

          <div class="edit-form-group">
            <label class="edit-form-label">Animal Name</label>
            <input type="text" id="myLostPet-petName" class="edit-form-input">
          </div>

          <div class="form-row-split">
            <div class="edit-form-group form-group-half">
              <label class="edit-form-label">Type</label>
              <select id="myLostPet-animalType" class="edit-form-input">
                <option value="Dog">Dog</option>
                <option value="Cat">Cat</option>
                <option value="Rabbit">Rabbit</option>
                <option value="Bird">Bird</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div class="edit-form-group form-group-half">
              <label class="edit-form-label">Breed</label>
              <input type="text" id="myLostPet-breed" class="edit-form-input">
            </div>
          </div>

          <div class="form-row-split">
            <div class="edit-form-group form-group-half">
              <label class="edit-form-label">Age (Months)</label>
              <input type="number" id="myLostPet-age" class="edit-form-input" min="0">
            </div>
            <div class="edit-form-group form-group-half">
              <label class="edit-form-label">Gender</label>
              <select id="myLostPet-genderSelect" class="edit-form-input">
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>
            </div>
          </div>

          <div class="edit-form-group">
            <label class="edit-form-label">Last Seen Location</label>
            <input type="text" id="myLostPet-lastSeenLocation" class="edit-form-input">
          </div>

          <div class="edit-form-group">
            <label class="edit-form-label">Last Seen Date</label>
            <input type="date" id="myLostPet-lastSeenDate" class="edit-form-input">
          </div>

          <div class="edit-form-group">
            <label class="edit-form-label">Description</label>
            <textarea id="myLostPet-description" class="edit-form-textarea"></textarea>
          </div>

          <div class="edit-form-group">
            <label class="edit-form-label">Verification Status</label>
            <input type="text" id="myLostPet-verificationStatus" class="edit-form-input" disabled>
          </div>

          <button id="myLostPet-saveBtn" class="btn-save-changes" onclick="saveMyLostPetChanges()">
            Save Changes
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
-->
</div>
  <!-- FOOTER -->
  <div id="footer"></div>

  <!-- Scripts -->
  <script src="javascript/script.js"></script>
  <script src="javascript/template-loader.js"></script>
  <script type="module" src="js/auth.js"></script>
  <script type="module" src="js/myListings.js"></script>
  <script type="module" src="js/myLostpets.js"></script>
</body>

</body>

</body>

</html>